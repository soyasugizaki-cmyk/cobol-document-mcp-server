---
contentId: environments
directory: manual
---

# 複数環境（開発環境）

複数環境は、サービスの設定内容を複製し、完全に分離された別環境を作成する機能です。  
  
この機能を利用することで、本番運用中のサービスに対して設定変更を行う際などでも、本番環境には一切の影響なく、安全に作業を行うことが可能です。

複数環境はBusinessプラン、Enterpriseプランでご利用いただける機能です。  
プランごとに利用できる機能については、[料金プランページ](https://microcms.io/pricing)をご覧ください。

  
![](https://images.microcms-assets.io/assets/d6af1616730544a596d299c20834f460/88225a8487db499cbb1ea713143d779b/environments-outline.jpeg)  

複数環境機能の使い方
==========

まず、環境を作成するには管理画面内の環境メニューを開きます。  
  
![](https://images.microcms-assets.io/assets/d6af1616730544a596d299c20834f460/fcef247186c04653b557578662773fdc/CleanShot%202022-04-27%20at%2013.50.46%402x.png?w=300&h=210)  
  
「新規作成」ボタンを押すと環境作成ダイアログが表示されます。  
  
![](https://images.microcms-assets.io/assets/d6af1616730544a596d299c20834f460/b58e5d0bfad445a9ad27350569f8f75b/%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%200005-11-06%2013.26.48.png)  
  
環境の作成時には環境名（任意の文字列）と、コンテンツのコピー範囲を指定します。  
コンテンツのコピー範囲には以下の3パターンがあります。  

*   すべてコピーする
*   公開済みのコンテンツのみをコピーする
*   コピーしない

  
作成した環境内では全てのユーザーが「管理者権限」を持ちます。(作成した環境における制約については、後述の仕様の項目をご参照ください。)  
そのため下書き中コンテンツなど、本来は閲覧されるべきでない情報が本番環境に含まれる場合には、コピー範囲を絞って環境作成を行ってください。  
  
上記を入力後、「作成する」ボタンを押すことで環境を作成できます。  
作成済みの環境は設定画面で確認できます。環境名の変更、環境の削除もこの画面内にて可能です。  
  
![](https://images.microcms-assets.io/assets/d6af1616730544a596d299c20834f460/2e3775574d464e678119bc69cddb331d/Screen%20Shot%202022-10-25%20at%2018.19.06.png)

コピー元とコピー先
---------

環境のコピー元となるのは、**本番環境のみ**となります。ステージング環境→開発環境、ステージング環境→本番環境の様なコピーを行うことはできません。  
  
新規にサービスを開発する際は、**本番環境をベースに構築**を進めていただき、リリース後に必要となったタイミングで別環境を作成することを推奨しています。  
  
またステージング確認の用途ですと、下書き保存と`draftKey`を利用する方法もございます。構築の手法については、関連する記事がございますので、あわせてご活用ください。

https://blog.microcms.io/building-staging-environment

*   **作成した環境を、本番利用することは想定しておりません。**現状の仕様で問題ない場合も、今後のアップデートにおいて、影響が出る可能性がございます。本番利用のユースケースにおいては、本番環境をご利用ください。

仕様
==

環境の詳細な仕様は以下の通りです。

Enterpriseプランにおいては、一部制約が異なる場合があります。

基本機能
----

*   作成した環境には、ランダム文字列付きの別のサブドメインが割り当てられます（例：本番環境 `example`, 作成した環境 `example-0htwv5q6lmdmk0ze4l8o`）。
*   重複する環境名は設定できません。
*   データ転送量は、**全環境の転送量分が合算**され、計上されます。
*   APIの利用数は無制限です。API数の上限の計算には、計上されません。
*   コンテンツ数は無制限です。コンテンツ数の上限の計算には、計上されません。

コピー内容
-----

### コピーされるもの

*   全てのAPI設定（IPアドレス制限を除く）
*   全てのメディア
*   カスタムステータスの設定（コンテンツにセットされたカスタムステータスは除く）

### コピーされないもの

*   APIキー（新規にAPIキーが1件自動で発行されます）
*   メディアタグ
*   レビュー
*   Webhookの設定
*   コンテンツの更新履歴

### コピーを選択可能なもの

*   コンテンツ（コピー範囲を「すべてコピーする」「公開済みのコンテンツのみコピーする」「コピーしない」から指定可能）

制約(機能)
------

*   メンバーの追加、削除はできません。**本番環境のメンバーと常に同期**されます。
*   ロール機能は利用できません。作成した環境では、**メンバー全員が管理者とほぼ同等の権限**となります。
*   監査ログ機能は利用できません。また環境内での操作は、本番環境の監査ログにも反映されません。

制約(サイズ・件数)
----------

*   コンテンツのCSVインポートは`100件`が上限となります。
*   1メディアのサイズは`40MB`が上限となります。
*   APIキーは`3個`が上限となります。
*   最大で`10環境`まで作成可能です。(本番環境は含みません。)

環境名の変更
======

環境名の変更を行うには、環境設定の右側の3点リーダーのアイコンをクリック→「環境を編集する」を選択します。  
編集画面にて、環境名の編集ができます。  
  
![](https://images.microcms-assets.io/assets/d6af1616730544a596d299c20834f460/e98a97f4712b4198b78e27a0a0efe5b0/Screen%20Shot%202022-10-25%20at%2018.07.14.png)  
  
編集できるのは、管理者権限を持ったメンバーのみです。

環境の削除
=====

環境名の変更と同じく、3点リーダーのアイコンをクリック→「環境を削除」から削除できます。

削除できる条件
-------

環境を削除するためには、以下の条件を満たす必要があります。

1.  環境内にコンテンツが存在しないこと
2.  環境内にメディアが存在しないこと
3.  管理者権限もしくは環境の削除権限を持ったメンバーであること

条件が満たされていない場合、環境を削除することはできません。  
コンテンツやメディアを一括で削除する方法については以下のドキュメントをご覧ください。

https://document.microcms.io/manual/api-model-settings#h419eb04cda

https://document.microcms.io/manual/media-management#h88d26267bd